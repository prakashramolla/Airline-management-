{"version":3,"sources":["../../../../src/payment/v1/payment-mappers/payload-mapper.js"],"names":["PayloadMapper","customerMapper","orderMapper","paymentMapper","storeMapper","data","order","additionalAction","customer","mapToCustomer","notify_url","callbackUrl","mapToOrder","payment","mapToPayment","store","mapToStore","additional_action","authToken","Authorization","CustomerMapper","create","OrderMapper","PaymentMapper","StoreMapper"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;IAEqBA,a;AAajB;AACJ;AACA;AACA;AACA;AACA;AACI,yBAAYC,cAAZ,EAA4BC,WAA5B,EAAyCC,aAAzC,EAAwDC,WAAxD,EAAqE;AAAA;;AACjE;AACR;AACA;AACA;AACQ,SAAKH,cAAL,GAAsBA,cAAtB;AAEA;AACR;AACA;AACA;;AACQ,SAAKC,WAAL,GAAmBA,WAAnB;AAEA;AACR;AACA;AACA;;AACQ,SAAKC,aAAL,GAAqBA,aAArB;AAEA;AACR;AACA;AACA;;AACQ,SAAKC,WAAL,GAAmBA,WAAnB;AACH;AAED;AACJ;AACA;AACA;;;;;WACI,sBAAaC,IAAb,EAAmB;AACf,wBAAyCA,IAAzC,CAAQC,KAAR;AAAA,UAAQA,KAAR,4BAAgB,EAAhB;AAAA,UAAoBC,gBAApB,GAAyCF,IAAzC,CAAoBE,gBAApB;AAEA,aAAO,oBAAQ;AACXC,QAAAA,QAAQ,EAAE,KAAKP,cAAL,CAAoBQ,aAApB,CAAkCJ,IAAlC,CADC;AAEXK,QAAAA,UAAU,EAAEJ,KAAK,CAACK,WAFP;AAGXL,QAAAA,KAAK,EAAE,KAAKJ,WAAL,CAAiBU,UAAjB,CAA4BP,IAA5B,CAHI;AAIXQ,QAAAA,OAAO,EAAE,KAAKV,aAAL,CAAmBW,YAAnB,CAAgCT,IAAhC,CAJE;AAKXU,QAAAA,KAAK,EAAE,KAAKX,WAAL,CAAiBY,UAAjB,CAA4BX,IAA5B,CALI;AAMXY,QAAAA,iBAAiB,EAAEV;AANR,OAAR,CAAP;AAQH;AAED;AACJ;AACA;AACA;;;;WACI,sBAAaF,IAAb,EAAmB;AACf,UAAQa,SAAR,GAAsBb,IAAtB,CAAQa,SAAR;AAEA,aAAO,oBAAQ;AACXC,QAAAA,aAAa,EAAED;AADJ,OAAR,CAAP;AAGH;;;;AAvED;AACJ;AACA;AACI,sBAAgB;AACZ,UAAMjB,cAAc,GAAGmB,wBAAeC,MAAf,EAAvB;;AACA,UAAMnB,WAAW,GAAGoB,qBAAYD,MAAZ,EAApB;;AACA,UAAMlB,aAAa,GAAGoB,uBAAcF,MAAd,EAAtB;;AACA,UAAMjB,WAAW,GAAGoB,qBAAYH,MAAZ,EAApB;;AAEA,aAAO,IAAIrB,aAAJ,CAAkBC,cAAlB,EAAkCC,WAAlC,EAA+CC,aAA/C,EAA8DC,WAA9D,CAAP;AACH","sourcesContent":["import { omitNil } from '../../../common/utils';\nimport CustomerMapper from './customer-mapper';\nimport OrderMapper from './order-mapper';\nimport PaymentMapper from './payment-mapper';\nimport StoreMapper from './store-mapper';\n\nexport default class PayloadMapper {\n    /**\n     * @returns {PayloadMapper}\n     */\n    static create() {\n        const customerMapper = CustomerMapper.create();\n        const orderMapper = OrderMapper.create();\n        const paymentMapper = PaymentMapper.create();\n        const storeMapper = StoreMapper.create();\n\n        return new PayloadMapper(customerMapper, orderMapper, paymentMapper, storeMapper);\n    }\n\n    /**\n     * @param {CustomerMapper} customerMapper\n     * @param {OrderMapper} orderMapper\n     * @param {PaymentMapper} paymentMapper\n     * @param {StoreMapper} storeMapper\n     */\n    constructor(customerMapper, orderMapper, paymentMapper, storeMapper) {\n        /**\n         * @private\n         * @type {CustomerMapper}\n         */\n        this.customerMapper = customerMapper;\n\n        /**\n         * @private\n         * @type {OrderMapper}\n         */\n        this.orderMapper = orderMapper;\n\n        /**\n         * @private\n         * @type {PaymentMapper}\n         */\n        this.paymentMapper = paymentMapper;\n\n        /**\n         * @private\n         * @type {StoreMapper}\n         */\n        this.storeMapper = storeMapper;\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @returns {Object}\n     */\n    mapToPayload(data) {\n        const { order = {}, additionalAction } = data;\n\n        return omitNil({\n            customer: this.customerMapper.mapToCustomer(data),\n            notify_url: order.callbackUrl,\n            order: this.orderMapper.mapToOrder(data),\n            payment: this.paymentMapper.mapToPayment(data),\n            store: this.storeMapper.mapToStore(data),\n            additional_action: additionalAction,\n        });\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @returns {Object}\n     */\n    mapToHeaders(data) {\n        const { authToken } = data;\n\n        return omitNil({\n            Authorization: authToken,\n        });\n    }\n}\n"],"file":"payload-mapper.js"}