{"version":3,"sources":["../../src/payment/client-token-generator.js"],"names":["ClientTokenGenerator","urlHelper","requestSender","clientTokenMapper","data","callback","url","getGenerateClientTokenUrl","payload","mapToClientToken","postRequest","config","UrlHelper","create","RequestSender","ClientTokenMapper"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;IAEqBA,oB;AAajB;AACJ;AACA;AACA;AACA;AACA;AACI,gCAAYC,SAAZ,EAAuBC,aAAvB,EAAsCC,iBAAtC,EAAyD;AAAA;;AACrD;AACR;AACA;AACA;AACQ,SAAKF,SAAL,GAAiBA,SAAjB;AAEA;AACR;AACA;AACA;;AACQ,SAAKC,aAAL,GAAqBA,aAArB;AAEA;AACR;AACA;AACA;;AACQ,SAAKC,iBAAL,GAAyBA,iBAAzB;AACH;AAED;AACJ;AACA;AACA;AACA;;;;;WACI,6BAAoBC,IAApB,EAA0BC,QAA1B,EAAoC;AAChC,UAAMC,GAAG,GAAG,KAAKL,SAAL,CAAeM,yBAAf,EAAZ;AACA,UAAMC,OAAO,GAAG,KAAKL,iBAAL,CAAuBM,gBAAvB,CAAwCL,IAAxC,CAAhB;AAEA,WAAKF,aAAL,CAAmBQ,WAAnB,CAA+BJ,GAA/B,EAAoCE,OAApC,EAA6C,EAA7C,EAAiDH,QAAjD;AACH;;;;AAhDD;AACJ;AACA;AACA;AACI,oBAAcM,MAAd,EAAsB;AAClB,UAAMV,SAAS,GAAGW,mBAAUC,MAAV,CAAiBF,MAAjB,CAAlB;;AACA,UAAMT,aAAa,GAAGY,uBAAcD,MAAd,EAAtB;;AACA,UAAMV,iBAAiB,GAAGY,2BAAkBF,MAAlB,EAA1B;;AAEA,aAAO,IAAIb,oBAAJ,CAAyBC,SAAzB,EAAoCC,aAApC,EAAmDC,iBAAnD,CAAP;AACH","sourcesContent":["import RequestSender from '../common/http-request/request-sender';\nimport ClientTokenMapper from './v2/payment-mappers/client-token-mapper';\nimport UrlHelper from './url-helper';\n\nexport default class ClientTokenGenerator {\n    /**\n     * @param {Object} config\n     * @returns {PaymentSubmitter}\n     */\n    static create(config) {\n        const urlHelper = UrlHelper.create(config);\n        const requestSender = RequestSender.create();\n        const clientTokenMapper = ClientTokenMapper.create();\n\n        return new ClientTokenGenerator(urlHelper, requestSender, clientTokenMapper);\n    }\n\n    /**\n     * @param {UrlHelper} urlHelper\n     * @param {RequestSender} requestSender\n     * @param {ClientTokenMapper} clientTokenMapper\n     * @returns {void}\n     */\n    constructor(urlHelper, requestSender, clientTokenMapper) {\n        /**\n         * @private\n         * @type {UrlHelper}\n         */\n        this.urlHelper = urlHelper;\n\n        /**\n         * @private\n         * @type {RequestSender}\n         */\n        this.requestSender = requestSender;\n\n        /**\n         * @private\n         * @type {ClientTokenMapper}\n         */\n        this.clientTokenMapper = clientTokenMapper;\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @param {Function} [callback]\n     * @returns {void}\n     */\n    generateClientToken(data, callback) {\n        const url = this.urlHelper.getGenerateClientTokenUrl();\n        const payload = this.clientTokenMapper.mapToClientToken(data);\n\n        this.requestSender.postRequest(url, payload, {}, callback);\n    }\n}\n"],"file":"client-token-generator.js"}