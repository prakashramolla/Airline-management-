{"version":3,"sources":["../../../../src/payment/ppsdk/payment-mappers/ppsdk-payload-mapper.js"],"names":["PpsdkPayloadMapper","data","additionalAction","payment","paymentMethod","instrument","expires","month","ccExpiry","year","name","ccName","number","ccNumber","verification_value","ccCvv","type","PPSDK_CREDIT_CARD","form_nonce","hostedFormNonce","payment_method_id","id","human_verification","parameters","token","human_verification_token","authToken","Authorization"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;IAEqBA,kB;;;;;;;;AAQjB;AACJ;AACA;AACA;AACI,0BAAaC,IAAb,EAAmB;AACf,UAAQC,gBAAR,GAA0DD,IAA1D,CAAQC,gBAAR;AAAA,0BAA0DD,IAA1D,CAA0BE,OAA1B;AAAA,UAA0BA,OAA1B,8BAAoC,EAApC;AAAA,UAAwCC,aAAxC,GAA0DH,IAA1D,CAAwCG,aAAxC;AAEA,aAAO,oBAAQ;AACXC,QAAAA,UAAU,EAAE;AACRC,UAAAA,OAAO,EAAE;AACLC,YAAAA,KAAK,EAAEJ,OAAO,CAACK,QAAR,GAAmB,qBAASL,OAAO,CAACK,QAAR,CAAiBD,KAA1B,CAAnB,GAAsD,IADxD;AAELE,YAAAA,IAAI,EAAEN,OAAO,CAACK,QAAR,GAAmB,qBAASL,OAAO,CAACK,QAAR,CAAiBC,IAA1B,CAAnB,GAAqD;AAFtD,WADD;AAKRC,UAAAA,IAAI,EAAEP,OAAO,CAACQ,MALN;AAMRC,UAAAA,MAAM,EAAET,OAAO,CAACU,QANR;AAORC,UAAAA,kBAAkB,EAAEX,OAAO,CAACY,KAPpB;AAQRC,UAAAA,IAAI,EAAEC;AARE,SADD;AAWXC,QAAAA,UAAU,EAAEf,OAAO,CAACgB,eAXT;AAYXC,QAAAA,iBAAiB,EAAEhB,aAAa,CAACiB,EAZtB;AAaXC,QAAAA,kBAAkB,EAAEpB,gBAAgB,GAAG;AACnCmB,UAAAA,EAAE,EAAE,2BAD+B;AAEnCE,UAAAA,UAAU,EAAE;AACRC,YAAAA,KAAK,EAAEtB,gBAAgB,GAAGA,gBAAgB,CAACD,IAAjB,CAAsBwB,wBAAzB,GAAoD;AADnE;AAFuB,SAAH,GAKhC;AAlBO,OAAR,CAAP;AAoBH;AAED;AACJ;AACA;AACA;;;;WACI,sBAAaxB,IAAb,EAAmB;AACf,UAAQyB,SAAR,GAAsBzB,IAAtB,CAAQyB,SAAR;AAEA,aAAO,oBAAQ;AACXC,QAAAA,aAAa,EAAED;AADJ,OAAR,CAAP;AAGH;;;;AA9CD;AACJ;AACA;AACI,sBAAgB;AACZ,aAAO,IAAI1B,kBAAJ,EAAP;AACH","sourcesContent":["import { omitNil, toNumber } from '../../../common/utils';\nimport { PPSDK_CREDIT_CARD } from '../../payment-method-types';\n\nexport default class PpsdkPayloadMapper {\n    /**\n     * @returns {PayloadMapper}\n     */\n    static create() {\n        return new PpsdkPayloadMapper();\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @returns {Object}\n     */\n    mapToPayload(data) {\n        const { additionalAction, payment = {}, paymentMethod } = data;\n\n        return omitNil({\n            instrument: {\n                expires: {\n                    month: payment.ccExpiry ? toNumber(payment.ccExpiry.month) : null,\n                    year: payment.ccExpiry ? toNumber(payment.ccExpiry.year) : null,\n                },\n                name: payment.ccName,\n                number: payment.ccNumber,\n                verification_value: payment.ccCvv,\n                type: PPSDK_CREDIT_CARD,\n            },\n            form_nonce: payment.hostedFormNonce,\n            payment_method_id: paymentMethod.id,\n            human_verification: additionalAction ? {\n                id: 'recaptcha_v2_verification',\n                parameters: {\n                    token: additionalAction ? additionalAction.data.human_verification_token : null,\n                },\n            } : null,\n        });\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @returns {Object}\n     */\n    mapToHeaders(data) {\n        const { authToken } = data;\n\n        return omitNil({\n            Authorization: authToken,\n        });\n    }\n}\n"],"file":"ppsdk-payload-mapper.js"}